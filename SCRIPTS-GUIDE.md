# ğŸ¯ SharkDataServer - å…¨å¹³å°è„šæœ¬æ€»è§ˆ

## ğŸ“ è„šæœ¬æ–‡ä»¶æ¸…å•

### Windows æ‰¹å¤„ç†è„šæœ¬ (.bat)

| æ–‡ä»¶å | åŠŸèƒ½ | ä½¿ç”¨æ–¹æ³• |
|--------|------|----------|
| `start.bat` | å¯åŠ¨æœåŠ¡å™¨ | åŒå‡»è¿è¡Œæˆ– `.\start.bat` |
| `test-mqtt.bat` | MQTT æµ‹è¯•å®¢æˆ·ç«¯ | åŒå‡»è¿è¡Œæˆ– `.\test-mqtt.bat` |
| `test-udp.bat` | UDP æµ‹è¯•å®¢æˆ·ç«¯ | åŒå‡»è¿è¡Œæˆ– `.\test-udp.bat` |

### Linux/macOS Shell è„šæœ¬ (.sh)

| æ–‡ä»¶å | åŠŸèƒ½ | ä½¿ç”¨æ–¹æ³• |
|--------|------|----------|
| `start.sh` | å¯åŠ¨æœåŠ¡å™¨ | `chmod +x start.sh && ./start.sh` |
| `test-mqtt.sh` | MQTT æµ‹è¯•å®¢æˆ·ç«¯ | `chmod +x test-mqtt.sh && ./test-mqtt.sh` |
| `test-udp.sh` | UDP æµ‹è¯•å®¢æˆ·ç«¯ | `chmod +x test-udp.sh && ./test-udp.sh` |
| `install-and-run.sh` | äº¤äº’å¼å®‰è£…è¿è¡Œï¼ˆæ¨èï¼‰ | `chmod +x install-and-run.sh && ./install-and-run.sh` |

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### Windows ç”¨æˆ·

```powershell
# 1. å¯åŠ¨æœåŠ¡å™¨
åŒå‡» start.bat

# 2. æµ‹è¯• MQTTï¼ˆæ–°çª—å£ï¼‰
åŒå‡» test-mqtt.bat

# 3. æµ‹è¯• UDPï¼ˆæ–°çª—å£ï¼‰
åŒå‡» test-udp.bat
```

### Linux/macOS ç”¨æˆ·

**æ–¹æ³•ä¸€ï¼šäº¤äº’å¼è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰**
```bash
chmod +x install-and-run.sh
./install-and-run.sh
# ç„¶åé€‰æ‹©èœå•é€‰é¡¹
```

**æ–¹æ³•äºŒï¼šç‹¬ç«‹è„šæœ¬**
```bash
# æ·»åŠ æƒé™
chmod +x *.sh

# å¯åŠ¨æœåŠ¡å™¨
./start.sh

# æµ‹è¯• MQTTï¼ˆæ–°ç»ˆç«¯ï¼‰
./test-mqtt.sh

# æµ‹è¯• UDPï¼ˆæ–°ç»ˆç«¯ï¼‰
./test-udp.sh
```

## ğŸ“‹ è„šæœ¬åŠŸèƒ½å¯¹æ¯”

### Windows è„šæœ¬ç‰¹æ€§

âœ… è‡ªåŠ¨æ£€æµ‹ä¾èµ–
âœ… è‡ªåŠ¨å®‰è£… npm åŒ…
âœ… å½©è‰²è¾“å‡ºï¼ˆUTF-8ï¼‰
âœ… åŒå‡»å³å¯è¿è¡Œ
âœ… é”™è¯¯æç¤ºå’Œæš‚åœ

### Linux/macOS è„šæœ¬ç‰¹æ€§

âœ… å®Œæ•´çš„ç¯å¢ƒæ£€æŸ¥
âœ… è‡ªåŠ¨æƒé™è®¾ç½®
âœ… ANSI å½©è‰²è¾“å‡º
âœ… äº¤äº’å¼èœå•ï¼ˆinstall-and-run.shï¼‰
âœ… ä¸€é”®å¯åŠ¨å¤šç»ˆç«¯
âœ… æ”¯æŒ tmux/screen
âœ… ä¼˜é›…çš„é”™è¯¯å¤„ç†

## ğŸ¨ è„šæœ¬è¾“å‡ºç¤ºä¾‹

### start.sh è¾“å‡º
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ SharkDataServer ä¸€é”®å¯åŠ¨è„šæœ¬
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Node.js å·²å®‰è£…: v18.17.0
âœ… npm å·²å®‰è£…: 9.6.7

â„¹ï¸  æ£€æŸ¥ä¾èµ–...
âœ… ä¾èµ–å·²å®‰è£…

â„¹ï¸  æ£€æŸ¥è§†é¢‘æºæ–‡ä»¶...
âœ… æ‰¾åˆ° 1 ä¸ªè§†é¢‘æ–‡ä»¶

â„¹ï¸  å¯åŠ¨æœåŠ¡å™¨...
```

### install-and-run.sh èœå•
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘       ğŸš€ SharkDataServer å®Œæ•´å®‰è£…å’Œè¿è¡Œè„šæœ¬ ğŸš€           â•‘
â•‘                                                           â•‘
â•‘    UDP è§†é¢‘æµ + MQTT æ•°æ®å‘é€æ¨¡æ‹ŸæœåŠ¡å™¨                   â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    è¯·é€‰æ‹©æ“ä½œ                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1) å¯åŠ¨æœåŠ¡å™¨
  2) æµ‹è¯• MQTT å®¢æˆ·ç«¯
  3) æµ‹è¯• UDP è§†é¢‘æµå®¢æˆ·ç«¯
  4) åŒæ—¶å¯åŠ¨æœåŠ¡å™¨å’Œæµ‹è¯•å®¢æˆ·ç«¯ (æ¨è)
  5) æŸ¥çœ‹ä½¿ç”¨è¯´æ˜
  6) é€€å‡º

è¯·è¾“å…¥é€‰é¡¹ [1-6]:
```

## ğŸ”§ è„šæœ¬æŠ€æœ¯ç»†èŠ‚

### Windows æ‰¹å¤„ç†è„šæœ¬

**ç¼–ç è®¾ç½®ï¼š**
```batch
chcp 65001 >nul  # UTF-8 ç¼–ç æ”¯æŒä¸­æ–‡
```

**ä¾èµ–æ£€æŸ¥ï¼š**
```batch
if not exist "node_modules\" (
    call npm install
)
```

**é”™è¯¯å¤„ç†ï¼š**
```batch
if errorlevel 1 (
    echo âŒ é”™è¯¯ä¿¡æ¯
    pause
    exit /b 1
)
```

### Linux/macOS Shell è„šæœ¬

**Shebangï¼š**
```bash
#!/bin/bash
```

**é¢œè‰²å®šä¹‰ï¼š**
```bash
RED='\033[0;31m'
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m'  # No Color
```

**ç¯å¢ƒæ£€æŸ¥ï¼š**
```bash
if ! command -v node &> /dev/null; then
    print_error "æœªæ£€æµ‹åˆ° Node.js"
    exit 1
fi
```

**ä¿¡å·å¤„ç†ï¼š**
```bash
trap 'echo ""; print_info "æ­£åœ¨åœæ­¢..."; exit 0' INT TERM
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£é“¾æ¥

- **Windows ç”¨æˆ·**ï¼šæŸ¥çœ‹ [INSTALL.md](./INSTALL.md)
- **Linux/macOS ç”¨æˆ·**ï¼šæŸ¥çœ‹ [LINUX-GUIDE.md](./LINUX-GUIDE.md)
- **é€šç”¨è¯´æ˜**ï¼šæŸ¥çœ‹ [README.md](./README.md)
- **å¿«é€Ÿå¼€å§‹**ï¼šæŸ¥çœ‹ [QUICKSTART.md](./QUICKSTART.md)

## ğŸ¯ æ¨èä½¿ç”¨æ–¹å¼

### åˆæ¬¡ä½¿ç”¨

**Windowsï¼š**
1. åŒå‡» `start.bat` è‡ªåŠ¨å®‰è£…å¹¶å¯åŠ¨

**Linux/macOSï¼š**
1. è¿è¡Œ `./install-and-run.sh` ä½¿ç”¨äº¤äº’å¼èœå•

### æ—¥å¸¸ä½¿ç”¨

**Windowsï¼š**
- æœåŠ¡å™¨ï¼šåŒå‡» `start.bat`
- æµ‹è¯•ï¼šåŒå‡» `test-mqtt.bat` å’Œ `test-udp.bat`

**Linux/macOSï¼š**
- æœåŠ¡å™¨ï¼š`./start.sh`
- æµ‹è¯•ï¼š`./test-mqtt.sh` å’Œ `./test-udp.sh`

### ç”Ÿäº§ç¯å¢ƒ

**æ¨èä½¿ç”¨ PM2ï¼š**
```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨æœåŠ¡
pm2 start server.js --name shark-server

# å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

## âš™ï¸ è‡ªå®šä¹‰è„šæœ¬

### ä¿®æ”¹ Windows è„šæœ¬

ç¼–è¾‘ `.bat` æ–‡ä»¶ï¼Œä½¿ç”¨è®°äº‹æœ¬æˆ–ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨ï¼š
```batch
notepad start.bat
```

### ä¿®æ”¹ Linux/macOS è„šæœ¬

ç¼–è¾‘ `.sh` æ–‡ä»¶ï¼š
```bash
nano start.sh
# æˆ–
vim start.sh
# æˆ–
code start.sh  # VS Code
```

**æ³¨æ„ï¼š** ä¿®æ”¹åç¡®ä¿æ–‡ä»¶ä»æœ‰æ‰§è¡Œæƒé™
```bash
chmod +x start.sh
```

## ğŸ› å¸¸è§é—®é¢˜

### Windows

**Q: åŒå‡»è„šæœ¬é—ªé€€ï¼Ÿ**
A: å³é”® â†’ ç¼–è¾‘ï¼ŒæŸ¥çœ‹è„šæœ¬å†…å®¹æ˜¯å¦æ­£ç¡®

**Q: æç¤º"ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„"ï¼Ÿ**
A: ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬

**Q: ä¸­æ–‡ä¹±ç ï¼Ÿ**
A: è„šæœ¬å·²è®¾ç½® UTF-8ï¼Œå¦‚ä»ä¹±ç è¯·æ£€æŸ¥æ§åˆ¶å°è®¾ç½®

### Linux/macOS

**Q: Permission deniedï¼Ÿ**
A: è¿è¡Œ `chmod +x *.sh` æ·»åŠ æ‰§è¡Œæƒé™

**Q: æ‰¾ä¸åˆ° Node.jsï¼Ÿ**
A: å®‰è£… Node.jsï¼š
- Ubuntu: `sudo apt-get install nodejs npm`
- macOS: `brew install node`

**Q: è„šæœ¬åœ¨å“ªä¸ªç›®å½•è¿è¡Œï¼Ÿ**
A: å¿…é¡»åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« server.js çš„ç›®å½•ï¼‰

## ğŸ“ è¿›é˜¶ä½¿ç”¨

### é›†æˆåˆ°ç³»ç»ŸæœåŠ¡

**Windowsï¼š**
ä½¿ç”¨ä»»åŠ¡è®¡åˆ’ç¨‹åºåˆ›å»ºå¼€æœºå¯åŠ¨ä»»åŠ¡

**Linuxï¼š**
åˆ›å»º systemd æœåŠ¡ï¼ˆå‚è§ LINUX-GUIDE.mdï¼‰

### Docker éƒ¨ç½²

åˆ›å»º `Dockerfile`ï¼š
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3333 3334
CMD ["node", "server.js"]
```

æ„å»ºå’Œè¿è¡Œï¼š
```bash
docker build -t shark-server .
docker run -p 3333:3333 -p 3334:3334 shark-server
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| å¯åŠ¨æ–¹å¼ | é€Ÿåº¦ | èµ„æºå ç”¨ | é€‚ç”¨åœºæ™¯ |
|---------|------|---------|---------|
| æ‰¹å¤„ç†/Shell è„šæœ¬ | â­â­â­â­â­ | ä½ | å¼€å‘æµ‹è¯• |
| npm start | â­â­â­â­ | ä½ | æ—¥å¸¸ä½¿ç”¨ |
| PM2 | â­â­â­ | ä¸­ | ç”Ÿäº§ç¯å¢ƒ |
| Docker | â­â­ | é«˜ | å®¹å™¨åŒ–éƒ¨ç½² |
| systemd | â­â­â­ | ä½ | Linux ç”Ÿäº§ |

## ğŸ”— ç›¸å…³èµ„æº

### åœ¨çº¿å·¥å…·

- [MQTT åœ¨çº¿æµ‹è¯•](http://mqtt-explorer.com/)
- [Protobuf åœ¨çº¿å·¥å…·](https://protobuf-decoder.netlify.app/)
- [è§†é¢‘æ ¼å¼è½¬æ¢](https://cloudconvert.com/)

### æ–‡æ¡£

- [Node.js å®˜æ–¹æ–‡æ¡£](https://nodejs.org/)
- [Bash è„šæœ¬æŒ‡å—](https://www.gnu.org/software/bash/manual/)
- [PowerShell æ–‡æ¡£](https://docs.microsoft.com/powershell/)

## ğŸ“ æ›´æ–°å†å²

### v1.0.0 (2025-11-29)

**Windows è„šæœ¬ï¼š**
- âœ… start.bat - æœåŠ¡å™¨å¯åŠ¨
- âœ… test-mqtt.bat - MQTT æµ‹è¯•
- âœ… test-udp.bat - UDP æµ‹è¯•

**Linux/macOS è„šæœ¬ï¼š**
- âœ… start.sh - æœåŠ¡å™¨å¯åŠ¨
- âœ… test-mqtt.sh - MQTT æµ‹è¯•
- âœ… test-udp.sh - UDP æµ‹è¯•
- âœ… install-and-run.sh - äº¤äº’å¼å®‰è£…è¿è¡Œ

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨ä¾èµ–æ£€æµ‹å’Œå®‰è£…
- âœ… å½©è‰²è¾“å‡ºå’Œå‹å¥½æç¤º
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… è·¨å¹³å°æ”¯æŒ

---

**é€‰æ‹©ä½ çš„å¹³å°ï¼Œå¼€å§‹ä½¿ç”¨å§ï¼** ğŸš€
